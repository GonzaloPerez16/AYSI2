package gnu.chu.anjelica.ventas;

import gnu.chu.anjelica.listados.etiqueta;
import gnu.chu.controles.StatusBar;
import gnu.chu.utilidades.Iconos;
import gnu.chu.utilidades.ventana;
import java.awt.BorderLayout;
import java.sql.SQLException;
import java.sql.Types;


public class RangoEtiquetas extends ventana
{
    pdalbara padre;
    boolean aceptar=false;
    public final static int ETICLIENTE=-1;
    
    public RangoEtiquetas() {
        initComponents();
        setResizable(false);
        setMaximizable(false);
        setIconifiable(false);
        this.setSize(400,150);
        statusBar = new StatusBar(this);
        this.getContentPane().add(statusBar, BorderLayout.SOUTH);
        setVisibleCabeceraVentana(false);                      
    }
    public int getTipoEtiqueta()
    {
        return eti_codiE.getValorInt();
    }
    
    @Override
  public void matar()
  {
    setVisible(false);
   
    padre.setEnabled(true);
    padre.setFoco(null);
    try {
        padre.setSelected(true);
    } catch (Exception k){}
    muerto();
  }
  /**
   * Funcion llamada cuando la clase se ha muerto
   * A machacar para controlar que hacer despues.
   */
  public void muerto()
  {
      
  }
    public void iniciar(pdalbara papa) throws SQLException
    {
        this.padre=papa;
        EU=padre.EU;
        dtStat=padre.dtStat;
        dtCon1=padre.dtCon1;
        pro_codiE.iniciar(dtStat, padre, padre.vl, EU);
         eti_codiE.setDatos(etiqueta.getReports(dtStat, EU.em_cod,0));
         eti_codiE.addItem("Del Cliente",""+ETICLIENTE);
        eti_codiE.addItem("Defecto","0");
        eti_codiE.setValor("0");

    }
    
    public void reset() throws SQLException
    {
         aceptar=false;
         pro_codiE.resetTexto();
         linInicE.setValorInt(0);
         linFinalE.setValorInt(0);
         pro_codiE.requestFocusLater();
         if (padre.cli_codiE.getLikeCliente().getInt("eti_codi")!=0)
          eti_codiE.setValor(""+ETICLIENTE);
    }
    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        proPanel1 = new gnu.chu.camposdb.proPanel();
        Pprinc = new gnu.chu.controles.CPanel();
        cLabel1 = new gnu.chu.controles.CLabel();
        pro_codiE = new gnu.chu.camposdb.proPanel();
        cLabel2 = new gnu.chu.controles.CLabel();
        linInicE = new gnu.chu.controles.CTextField(Types.DECIMAL,"##9");
        cLabel3 = new gnu.chu.controles.CLabel();
        linFinalE = new gnu.chu.controles.CTextField(Types.DECIMAL,"##9");
        opLinSelec = new gnu.chu.controles.CCheckBox();
        Aceptar = new gnu.chu.controles.CButton(Iconos.getImageIcon("check"));
        Bcancelar = new gnu.chu.controles.CButton(Iconos.getImageIcon("cancel"));
        cLabel4 = new gnu.chu.controles.CLabel();
        eti_codiE = new gnu.chu.controles.CComboBox();

        Pprinc.setLayout(null);

        cLabel1.setText("Etiqueta");
        Pprinc.add(cLabel1);
        cLabel1.setBounds(10, 50, 50, 18);
        Pprinc.add(pro_codiE);
        pro_codiE.setBounds(60, 2, 300, 18);

        cLabel2.setText("Articulo");
        Pprinc.add(cLabel2);
        cLabel2.setBounds(10, 2, 50, 18);

        linInicE.setText("0");
        Pprinc.add(linInicE);
        linInicE.setBounds(60, 25, 30, 18);

        cLabel3.setText("A Linea");
        Pprinc.add(cLabel3);
        cLabel3.setBounds(100, 25, 50, 18);

        linFinalE.setText("0");
        Pprinc.add(linFinalE);
        linFinalE.setBounds(150, 25, 30, 18);

        opLinSelec.setText("Lineas Selecionadas");
        Pprinc.add(opLinSelec);
        opLinSelec.setBounds(220, 25, 130, 18);

        Aceptar.setText("Aceptar");
        Aceptar.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                AceptarActionPerformed(evt);
            }
        });
        Pprinc.add(Aceptar);
        Aceptar.setBounds(175, 50, 90, 24);

        Bcancelar.setText("Cancelar");
        Bcancelar.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                BcancelarActionPerformed(evt);
            }
        });
        Pprinc.add(Bcancelar);
        Bcancelar.setBounds(270, 50, 90, 24);

        cLabel4.setText("De Linea");
        Pprinc.add(cLabel4);
        cLabel4.setBounds(10, 25, 50, 18);

        eti_codiE.setPreferredSize(new java.awt.Dimension(202, 24));
        Pprinc.add(eti_codiE);
        eti_codiE.setBounds(60, 50, 110, 18);

        getContentPane().add(Pprinc, java.awt.BorderLayout.CENTER);

        pack();
    }// </editor-fold>//GEN-END:initComponents

    private void AceptarActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_AceptarActionPerformed
        
        aceptar=true;
        matar();
    }//GEN-LAST:event_AceptarActionPerformed

    private void BcancelarActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_BcancelarActionPerformed
        aceptar=false;
        matar();
    }//GEN-LAST:event_BcancelarActionPerformed
    public boolean isAceptado()
    {
        return aceptar;
    }
    
    public int getArticulo()
    {
        return pro_codiE.getValorInt();
    }
    public int getLineaInicial()
    {
        return linInicE.getValorInt();
    }
    public int getLineaFinal()
    {
        return linFinalE.getValorInt();
    }     
    public boolean getLineasSelecionadas()
    {
        return opLinSelec.isSelected();
    }   
    public void setLineasSelecionadas(boolean swSelec)
    {
        opLinSelec.setSelected(swSelec);
    }   
    // Variables declaration - do not modify//GEN-BEGIN:variables
    private gnu.chu.controles.CButton Aceptar;
    private gnu.chu.controles.CButton Bcancelar;
    private gnu.chu.controles.CPanel Pprinc;
    private gnu.chu.controles.CLabel cLabel1;
    private gnu.chu.controles.CLabel cLabel2;
    private gnu.chu.controles.CLabel cLabel3;
    private gnu.chu.controles.CLabel cLabel4;
    private gnu.chu.controles.CComboBox eti_codiE;
    private gnu.chu.controles.CTextField linFinalE;
    private gnu.chu.controles.CTextField linInicE;
    private gnu.chu.controles.CCheckBox opLinSelec;
    private gnu.chu.camposdb.proPanel proPanel1;
    private gnu.chu.camposdb.proPanel pro_codiE;
    // End of variables declaration//GEN-END:variables
}
